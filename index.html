<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Country Outliner</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- Third‑party libraries loaded via CDN.  
         d3 and topojson are used for geographic data parsing and projection.  
         PixiJS powers the high‑quality WebGL rendering and effects.  
         Additional filters extend Pixi’s visual capabilities.  
         Fuse.js provides fast fuzzy searching for the country list. -->
    <script src="https://cdn.jsdelivr.net/npm/d3@7.8.5/dist/d3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/topojson-client@3.1.0/dist/topojson-client.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pixi.js@7.3.0/dist/pixi.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@pixi/filter-glow@4.2.2/dist/pixi-filters-glow.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@pixi/filter-bloom@4.2.2/dist/pixi-filters-bloom.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@pixi/filter-drop-shadow@4.2.2/dist/pixi-filters-drop-shadow.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@pixi/filter-color-matrix@4.2.2/dist/pixi-filters-color-matrix.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
</head>
<body>
<div id="compat-message" class="hidden">Your browser doesn’t support WebGL. Please use a modern browser.</div>
<div id="app">
    <!-- Top bar containing the search box and menu toggle.  
         On narrow screens the menu toggle becomes visible and exposes the rest of the controls. -->
    <div id="top-bar">
        <div id="search-container">
            <label for="country-search">Country:</label>
            <input id="country-search" type="text" placeholder="Type to search…" autocomplete="off" />
            <div id="autocomplete"></div>
        </div>
        <!-- Hamburger toggle for small screens -->
        <button id="menu-toggle" aria-label="Toggle controls">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="3" y="6" width="18" height="2" rx="1"></rect>
                <rect x="3" y="11" width="18" height="2" rx="1"></rect>
                <rect x="3" y="16" width="18" height="2" rx="1"></rect>
            </svg>
        </button>
    </div>
    <!-- Control panel holds theme and animation settings.  
         Its visibility is toggled on narrow viewports via the hamburger button. -->
    <div id="control-panel">
        <div class="control-group">
            <label for="theme-select">Theme:</label>
            <select id="theme-select"></select>
        </div>
        <div class="control-group palette-group">
            <label for="palette-select">Palette:</label>
            <select id="palette-select"></select>
        </div>
        <div class="control-group anim-group">
            <label class="checkbox-label">
                <input type="checkbox" id="animate-checkbox" checked />
                Animate
            </label>
            <label class="duration-label" for="duration-slider">
                Duration: <span id="duration-value">20</span>s
            </label>
            <input type="range" id="duration-slider" min="5" max="30" value="20" />
        </div>
    </div>
    <!-- Container for the map/drawing.  
         PixiJS will insert a canvas element into this container. -->
    <div id="map-container"></div>
</div>
<script src="app.js"></script>
</body>
</html>